<html>
<head>
<title>Timecolor Demo</title>
<link rel="stylesheet" type="text/css" href="css/style.css">
</head>

<body id="time">
<script src="color.js" type="text/javascript"></script>

<p id=time class="graystyle">At <span id="nowhour"></span>:<span id="nowminute"></span> the current timeslot is <span id="colortime"></span>/511 giving a #<span id="bgcolor"></span> background.</p> 

<p><a href="../index.htm">Author homepage</a></p>



<FORM NAME="myform">
Enter a number: <BR>
<INPUT TYPE="text"   NAME="inputbox" VALUE="">
<INPUT TYPE="button" NAME="button1"  Value="Hue" 		onClick="huebox(this.form)">
<INPUT TYPE="button" NAME="button2"  Value="Saturation" onClick="satbox(this.form)">
<INPUT TYPE="button" NAME="button3"  Value="Lightness"  onClick="lightbox(this.form)">
</FORM>

<table style="width:300px;height:300px" id="table1">
<tr>
</tr>
</table>

</body>

<script type="text/javascript">

var backgroundvariable = "ff0000"

document.getElementById("table1").style.backgroundColor = backgroundvariable;

function huebox (form) 
{
	backgroundvariable = hue(backgroundvariable,form.inputbox.value);
	document.getElementById("table1").style.backgroundColor = backgroundvariable
}

function satbox (form) 
{
	backgroundvariable = saturation(backgroundvariable,form.inputbox.value);
	document.getElementById("table1").style.backgroundColor = backgroundvariable
}

function lightbox (form) 
{
	backgroundvariable = lightness(backgroundvariable,myform.inputbox.value);
	document.getElementById("table1").style.backgroundColor = backgroundvariable
}




var d = new Date();
var hours=d.getHours();
var startOfDay = new Date(d.getFullYear(), d.getMonth(), d.getDate());
var timesegment = Math.floor((d.getTime()-Date.parse(startOfDay))/168750)
var reblock = Math.floor(255.5-Math.abs(timesegment-255))+Math.floor(Math.round(timesegment/511))

function timeStyle() // Sets the background and text color 
{
	x=document.getElementById("time")
	x.style.backgroundColor=lightness("000000",reblock);

	if (hours<=2 || ( hours>=8 && hours<=15 ) || hours>=21)
		{ x.className='extremestyle' }
	else 
		{ x.className='graystyle' }

	if (hours<=5 || hours>=18)
		{ x.style.color="white" }
	else	
		{ x.style.color="black" }
}
timeStyle();

document.getElementById("nowhour").innerHTML=d.getHours();
document.getElementById("nowminute").innerHTML=d.getMinutes();
document.getElementById("colortime").innerHTML=timesegment;
document.getElementById("bgcolor").innerHTML=lightness("000000",reblock);
</script>
</html>